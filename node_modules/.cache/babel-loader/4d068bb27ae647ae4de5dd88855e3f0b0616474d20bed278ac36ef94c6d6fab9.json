{"ast":null,"code":"var _jsxFileName = \"D:\\\\navigationAl-main\\\\src\\\\components\\\\DepartmentList.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { EAST_LAND_DISPLAY, MAIN_LAND_DISPLAY, generateToken, generateMapplsURL } from '../utils';\nimport './DepartmentList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DepartmentList = ({\n  zone,\n  onBack\n}) => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const departments = zone === 'east' ? EAST_LAND_DISPLAY : MAIN_LAND_DISPLAY;\n  const zoneTitle = zone === 'east' ? 'East Land Departments' : 'Main Land Departments';\n  const zoneSubtitle = `Select a department in ${zone === 'east' ? 'East' : 'Main'} Land to start navigation.`;\n  const filteredDepts = Object.entries(departments).filter(([code, name]) => name.toLowerCase().includes(searchTerm.toLowerCase()));\n  const handleNavigation = deptCode => {\n    const token = generateToken(deptCode);\n    const mapplsURL = generateMapplsURL(deptCode, token);\n\n    // Store token in localStorage with expiry\n    localStorage.setItem(`token_${deptCode}`, JSON.stringify({\n      token: token,\n      expiry: Date.now() + 30 * 60 * 1000\n    }));\n\n    // Open navigation in new tab\n    window.open(mapplsURL, '_blank');\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"zone-view\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"zone-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-btn\",\n        onClick: onBack,\n        children: \"\\u2190\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"zone-title-block\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"zone-title\",\n          children: zoneTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"zone-subtitle\",\n          children: zoneSubtitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"search\",\n        className: \"search-input\",\n        type: \"text\",\n        placeholder: \"Search department in this zone\\u2026\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"search-icon\",\n        children: \"\\uD83D\\uDD0D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"layout-grid\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dept-list\",\n          children: filteredDepts.map(([code, name]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dept-row\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"dept-link\",\n              onClick: () => handleNavigation(code),\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 33\n            }, this)\n          }, code, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"footer-actions\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"note-text\",\n        children: \"Note: Navigation links are valid for 30 minutes from generation.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n_s(DepartmentList, \"a1cMJ8t0eYFnsCEdGcHtaGJdbCM=\");\n_c = DepartmentList;\nexport default DepartmentList;\nvar _c;\n$RefreshReg$(_c, \"DepartmentList\");","map":{"version":3,"names":["React","useState","EAST_LAND_DISPLAY","MAIN_LAND_DISPLAY","generateToken","generateMapplsURL","jsxDEV","_jsxDEV","DepartmentList","zone","onBack","_s","searchTerm","setSearchTerm","departments","zoneTitle","zoneSubtitle","filteredDepts","Object","entries","filter","code","name","toLowerCase","includes","handleNavigation","deptCode","token","mapplsURL","localStorage","setItem","JSON","stringify","expiry","Date","now","window","open","id","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","map","_c","$RefreshReg$"],"sources":["D:/navigationAl-main/src/components/DepartmentList.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { \n    EAST_LAND_DISPLAY, \n    MAIN_LAND_DISPLAY, \n    generateToken,\n    generateMapplsURL \n} from '../utils';\nimport './DepartmentList.css';\n\nconst DepartmentList = ({ zone, onBack }) => {\n    const [searchTerm, setSearchTerm] = useState('');\n    \n    const departments = zone === 'east' ? EAST_LAND_DISPLAY : MAIN_LAND_DISPLAY;\n    const zoneTitle = zone === 'east' ? 'East Land Departments' : 'Main Land Departments';\n    const zoneSubtitle = `Select a department in ${zone === 'east' ? 'East' : 'Main'} Land to start navigation.`;\n    \n    const filteredDepts = Object.entries(departments).filter(([code, name]) =>\n        name.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    const handleNavigation = (deptCode) => {\n        const token = generateToken(deptCode);\n        const mapplsURL = generateMapplsURL(deptCode, token);\n        \n        // Store token in localStorage with expiry\n        localStorage.setItem(`token_${deptCode}`, JSON.stringify({\n            token: token,\n            expiry: Date.now() + (30 * 60 * 1000)\n        }));\n        \n        // Open navigation in new tab\n        window.open(mapplsURL, '_blank');\n    };\n\n    return (\n        <section id=\"zone-view\">\n            <div className=\"zone-header\">\n                <button className=\"back-btn\" onClick={onBack}>&#8592;</button>\n                <div className=\"zone-title-block\">\n                    <div className=\"zone-title\">{zoneTitle}</div>\n                    <div className=\"zone-subtitle\">{zoneSubtitle}</div>\n                </div>\n            </div>\n\n            <div className=\"search-box\">\n                <input\n                    id=\"search\"\n                    className=\"search-input\"\n                    type=\"text\"\n                    placeholder=\"Search department in this zoneâ€¦\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                />\n                <span className=\"search-icon\">&#128269;</span>\n            </div>\n\n            <div className=\"layout-grid\">\n                <section className=\"card\">\n                    <div className=\"dept-list\">\n                        {filteredDepts.map(([code, name]) => (\n                            <div className=\"dept-row\" key={code}>\n                                <button \n                                    className=\"dept-link\"\n                                    onClick={() => handleNavigation(code)}\n                                >\n                                    {name}\n                                </button>\n                            </div>\n                        ))}\n                    </div>\n                </section>\n            </div>\n\n            <div className=\"footer-actions\">\n                <p className=\"note-text\">\n                    Note: Navigation links are valid for 30 minutes from generation.\n                </p>\n            </div>\n        </section>\n    );\n};\n\nexport default DepartmentList;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SACIC,iBAAiB,EACjBC,iBAAiB,EACjBC,aAAa,EACbC,iBAAiB,QACd,UAAU;AACjB,OAAO,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,MAAMC,cAAc,GAAGA,CAAC;EAAEC,IAAI;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EACzC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAEhD,MAAMa,WAAW,GAAGL,IAAI,KAAK,MAAM,GAAGP,iBAAiB,GAAGC,iBAAiB;EAC3E,MAAMY,SAAS,GAAGN,IAAI,KAAK,MAAM,GAAG,uBAAuB,GAAG,uBAAuB;EACrF,MAAMO,YAAY,GAAG,0BAA0BP,IAAI,KAAK,MAAM,GAAG,MAAM,GAAG,MAAM,4BAA4B;EAE5G,MAAMQ,aAAa,GAAGC,MAAM,CAACC,OAAO,CAACL,WAAW,CAAC,CAACM,MAAM,CAAC,CAAC,CAACC,IAAI,EAAEC,IAAI,CAAC,KAClEA,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACZ,UAAU,CAACW,WAAW,CAAC,CAAC,CACxD,CAAC;EAED,MAAME,gBAAgB,GAAIC,QAAQ,IAAK;IACnC,MAAMC,KAAK,GAAGvB,aAAa,CAACsB,QAAQ,CAAC;IACrC,MAAME,SAAS,GAAGvB,iBAAiB,CAACqB,QAAQ,EAAEC,KAAK,CAAC;;IAEpD;IACAE,YAAY,CAACC,OAAO,CAAC,SAASJ,QAAQ,EAAE,EAAEK,IAAI,CAACC,SAAS,CAAC;MACrDL,KAAK,EAAEA,KAAK;MACZM,MAAM,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAI,EAAE,GAAG,EAAE,GAAG;IACpC,CAAC,CAAC,CAAC;;IAEH;IACAC,MAAM,CAACC,IAAI,CAACT,SAAS,EAAE,QAAQ,CAAC;EACpC,CAAC;EAED,oBACIrB,OAAA;IAAS+B,EAAE,EAAC,WAAW;IAAAC,QAAA,gBACnBhC,OAAA;MAAKiC,SAAS,EAAC,aAAa;MAAAD,QAAA,gBACxBhC,OAAA;QAAQiC,SAAS,EAAC,UAAU;QAACC,OAAO,EAAE/B,MAAO;QAAA6B,QAAA,EAAC;MAAO;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC9DtC,OAAA;QAAKiC,SAAS,EAAC,kBAAkB;QAAAD,QAAA,gBAC7BhC,OAAA;UAAKiC,SAAS,EAAC,YAAY;UAAAD,QAAA,EAAExB;QAAS;UAAA2B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC7CtC,OAAA;UAAKiC,SAAS,EAAC,eAAe;UAAAD,QAAA,EAAEvB;QAAY;UAAA0B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAENtC,OAAA;MAAKiC,SAAS,EAAC,YAAY;MAAAD,QAAA,gBACvBhC,OAAA;QACI+B,EAAE,EAAC,QAAQ;QACXE,SAAS,EAAC,cAAc;QACxBM,IAAI,EAAC,MAAM;QACXC,WAAW,EAAC,sCAAiC;QAC7CC,KAAK,EAAEpC,UAAW;QAClBqC,QAAQ,EAAGC,CAAC,IAAKrC,aAAa,CAACqC,CAAC,CAACC,MAAM,CAACH,KAAK;MAAE;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClD,CAAC,eACFtC,OAAA;QAAMiC,SAAS,EAAC,aAAa;QAAAD,QAAA,EAAC;MAAS;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7C,CAAC,eAENtC,OAAA;MAAKiC,SAAS,EAAC,aAAa;MAAAD,QAAA,eACxBhC,OAAA;QAASiC,SAAS,EAAC,MAAM;QAAAD,QAAA,eACrBhC,OAAA;UAAKiC,SAAS,EAAC,WAAW;UAAAD,QAAA,EACrBtB,aAAa,CAACmC,GAAG,CAAC,CAAC,CAAC/B,IAAI,EAAEC,IAAI,CAAC,kBAC5Bf,OAAA;YAAKiC,SAAS,EAAC,UAAU;YAAAD,QAAA,eACrBhC,OAAA;cACIiC,SAAS,EAAC,WAAW;cACrBC,OAAO,EAAEA,CAAA,KAAMhB,gBAAgB,CAACJ,IAAI,CAAE;cAAAkB,QAAA,EAErCjB;YAAI;cAAAoB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD;UAAC,GANkBxB,IAAI;YAAAqB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAO9B,CACR;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACT,CAAC,eAENtC,OAAA;MAAKiC,SAAS,EAAC,gBAAgB;MAAAD,QAAA,eAC3BhC,OAAA;QAAGiC,SAAS,EAAC,WAAW;QAAAD,QAAA,EAAC;MAEzB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAElB,CAAC;AAAClC,EAAA,CAvEIH,cAAc;AAAA6C,EAAA,GAAd7C,cAAc;AAyEpB,eAAeA,cAAc;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}