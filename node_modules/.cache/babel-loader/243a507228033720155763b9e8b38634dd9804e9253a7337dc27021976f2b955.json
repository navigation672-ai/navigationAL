{"ast":null,"code":"import CryptoJS from'crypto-js';const SECRET_KEY=\"your-very-secret-key-do-not-expose-in-production\";const TOKEN_MAX_AGE=30*60*1000;// 30 minutes in milliseconds\n// Simple token generation using timestamp\nexport const generateToken=dept=>{const tokenData={dept:dept,timestamp:Date.now(),expiry:Date.now()+TOKEN_MAX_AGE};const tokenString=JSON.stringify(tokenData);return CryptoJS.AES.encrypt(tokenString,SECRET_KEY).toString();};export const validateToken=(token,dept)=>{try{const bytes=CryptoJS.AES.decrypt(token,SECRET_KEY);const decryptedData=JSON.parse(bytes.toString(CryptoJS.enc.Utf8));// Check if token is expired\nif(Date.now()>decryptedData.expiry){return false;}// Check if department matches\nif(decryptedData.dept!==dept){return false;}return true;}catch(error){return false;}};// Department data\nexport const EAST_LAND_DEPARTMENTS={\"project_planning\":\"13.2057989,80.3209443\",\"shop_vii\":\"13.2062904,80.3207080\",\"shop_vi\":\"13.2099126,80.3209142\",\"shop_v\":\"13.2086706,80.3205279\",\"shop_iv\":\"13.2070161,80.3203764\",\"ev_shop\":\"13.2075096,80.3191446\",\"hrd_centre\":\"13.2068653,80.3192841\",\"canteen\":\"13.2066567,80.3192250\",\"central_quality_office\":\"13.2064706,80.3196311\",\"field_quality_centre\":\"13.206572069601032,80.31957997029414\",\"defense_sourcing\":\"13.2057989,80.3209443\"};export const EAST_LAND_DISPLAY={\"project_planning\":\"Project Planning\",\"shop_vii\":\"Shop VII\",\"shop_vi\":\"Shop VI\",\"shop_v\":\"Shop V\",\"shop_iv\":\"Shop IV\",\"ev_shop\":\"EV Shop\",\"hrd_centre\":\"HRD Centre\",\"canteen\":\"Canteen\",\"central_quality_office\":\"Central Quality Office\",\"field_quality_centre\":\"Field Quality Centre\",\"defense_sourcing\":\"Defense Sourcing\"};export const MAIN_LAND_DEPARTMENTS={\"chassis_shop\":\"13.209549919810451,80.31742205591088\",\"gearbox_6s\":\"13.209837363670559,80.31813483425225\",\"gearbox_9s\":\"13.209837363670559,80.31813483425225\",\"heat_treatment\":\"13.207957473496801,80.31784613241723\",\"admin_finance\":\"13.209693574424433,80.3166161104447\",\"canteen_main\":\"13.209821525072439,80.31702112397613\",\"shop_2_office\":\"13.208204685252353,80.31658514318255\",\"vts_shop\":\"13.208029794646409,80.31705504743034\"};export const MAIN_LAND_DISPLAY={\"chassis_shop\":\"Chassis Shop\",\"gearbox_6s\":\"Gearbox Assembly 6S\",\"gearbox_9s\":\"Gearbox Assembly 9S\",\"heat_treatment\":\"Heat Treatment\",\"admin_finance\":\"Admin Office - Finance\",\"canteen_main\":\"Canteen\",\"shop_2_office\":\"Shop 2 Office\",\"vts_shop\":\"VTS Shop\"};// Mappls navigation URL generator\nexport const generateMapplsURL=(deptCode,token)=>{const deptName=EAST_LAND_DISPLAY[deptCode]||MAIN_LAND_DISPLAY[deptCode];const deptCoords=EAST_LAND_DEPARTMENTS[deptCode]||MAIN_LAND_DEPARTMENTS[deptCode];if(!deptName||!deptCoords)return'#';const[lat,lon]=deptCoords.split(',');const encodedName=encodeURIComponent(deptName);return\"https://mappls.com/navigation?places=\".concat(lat.trim(),\",\").concat(lon.trim(),\",\").concat(encodedName,\"&isNav=true&mode=driving&token=\").concat(token);};","map":{"version":3,"names":["CryptoJS","SECRET_KEY","TOKEN_MAX_AGE","generateToken","dept","tokenData","timestamp","Date","now","expiry","tokenString","JSON","stringify","AES","encrypt","toString","validateToken","token","bytes","decrypt","decryptedData","parse","enc","Utf8","error","EAST_LAND_DEPARTMENTS","EAST_LAND_DISPLAY","MAIN_LAND_DEPARTMENTS","MAIN_LAND_DISPLAY","generateMapplsURL","deptCode","deptName","deptCoords","lat","lon","split","encodedName","encodeURIComponent","concat","trim"],"sources":["D:/navigationAl-main/src/utils.js"],"sourcesContent":["import CryptoJS from 'crypto-js';\n\nconst SECRET_KEY = \"your-very-secret-key-do-not-expose-in-production\";\nconst TOKEN_MAX_AGE = 30 * 60 * 1000; // 30 minutes in milliseconds\n\n// Simple token generation using timestamp\nexport const generateToken = (dept) => {\n    const tokenData = {\n        dept: dept,\n        timestamp: Date.now(),\n        expiry: Date.now() + TOKEN_MAX_AGE\n    };\n    const tokenString = JSON.stringify(tokenData);\n    return CryptoJS.AES.encrypt(tokenString, SECRET_KEY).toString();\n};\n\nexport const validateToken = (token, dept) => {\n    try {\n        const bytes = CryptoJS.AES.decrypt(token, SECRET_KEY);\n        const decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n        \n        // Check if token is expired\n        if (Date.now() > decryptedData.expiry) {\n            return false;\n        }\n        \n        // Check if department matches\n        if (decryptedData.dept !== dept) {\n            return false;\n        }\n        \n        return true;\n    } catch (error) {\n        return false;\n    }\n};\n\n// Department data\nexport const EAST_LAND_DEPARTMENTS = {\n    \"project_planning\": \"13.2057989,80.3209443\",\n    \"shop_vii\": \"13.2062904,80.3207080\",\n    \"shop_vi\": \"13.2099126,80.3209142\",\n    \"shop_v\": \"13.2086706,80.3205279\",\n    \"shop_iv\": \"13.2070161,80.3203764\",\n    \"ev_shop\": \"13.2075096,80.3191446\",\n    \"hrd_centre\": \"13.2068653,80.3192841\",\n    \"canteen\": \"13.2066567,80.3192250\",\n    \"central_quality_office\": \"13.2064706,80.3196311\",\n    \"field_quality_centre\": \"13.206572069601032,80.31957997029414\",\n    \"defense_sourcing\": \"13.2057989,80.3209443\",\n};\n\nexport const EAST_LAND_DISPLAY = {\n    \"project_planning\": \"Project Planning\",\n    \"shop_vii\": \"Shop VII\",\n    \"shop_vi\": \"Shop VI\",\n    \"shop_v\": \"Shop V\",\n    \"shop_iv\": \"Shop IV\",\n    \"ev_shop\": \"EV Shop\",\n    \"hrd_centre\": \"HRD Centre\",\n    \"canteen\": \"Canteen\",\n    \"central_quality_office\": \"Central Quality Office\",\n    \"field_quality_centre\": \"Field Quality Centre\",\n    \"defense_sourcing\": \"Defense Sourcing\",\n};\n\nexport const MAIN_LAND_DEPARTMENTS = {\n    \"chassis_shop\": \"13.209549919810451,80.31742205591088\",\n    \"gearbox_6s\": \"13.209837363670559,80.31813483425225\",\n    \"gearbox_9s\": \"13.209837363670559,80.31813483425225\",\n    \"heat_treatment\": \"13.207957473496801,80.31784613241723\",\n    \"admin_finance\": \"13.209693574424433,80.3166161104447\",\n    \"canteen_main\": \"13.209821525072439,80.31702112397613\",\n    \"shop_2_office\": \"13.208204685252353,80.31658514318255\",\n    \"vts_shop\": \"13.208029794646409,80.31705504743034\",\n};\n\nexport const MAIN_LAND_DISPLAY = {\n    \"chassis_shop\": \"Chassis Shop\",\n    \"gearbox_6s\": \"Gearbox Assembly 6S\",\n    \"gearbox_9s\": \"Gearbox Assembly 9S\",\n    \"heat_treatment\": \"Heat Treatment\",\n    \"admin_finance\": \"Admin Office - Finance\",\n    \"canteen_main\": \"Canteen\",\n    \"shop_2_office\": \"Shop 2 Office\",\n    \"vts_shop\": \"VTS Shop\",\n};\n\n// Mappls navigation URL generator\nexport const generateMapplsURL = (deptCode, token) => {\n    const deptName = EAST_LAND_DISPLAY[deptCode] || MAIN_LAND_DISPLAY[deptCode];\n    const deptCoords = EAST_LAND_DEPARTMENTS[deptCode] || MAIN_LAND_DEPARTMENTS[deptCode];\n    \n    if (!deptName || !deptCoords) return '#';\n    \n    const [lat, lon] = deptCoords.split(',');\n    const encodedName = encodeURIComponent(deptName);\n    \n    return `https://mappls.com/navigation?places=${lat.trim()},${lon.trim()},${encodedName}&isNav=true&mode=driving&token=${token}`;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}