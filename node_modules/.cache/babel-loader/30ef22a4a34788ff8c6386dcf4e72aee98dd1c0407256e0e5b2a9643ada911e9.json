{"ast":null,"code":"import CryptoJS from 'crypto-js';\nconst SECRET_KEY = \"your-very-secret-key-do-not-expose-in-production\";\nconst TOKEN_MAX_AGE = 30 * 60 * 1000; // 30 minutes in milliseconds\n\n// Simple token generation using timestamp\nexport const generateToken = dept => {\n  const tokenData = {\n    dept: dept,\n    timestamp: Date.now(),\n    expiry: Date.now() + TOKEN_MAX_AGE\n  };\n  const tokenString = JSON.stringify(tokenData);\n  return CryptoJS.AES.encrypt(tokenString, SECRET_KEY).toString();\n};\nexport const validateToken = (token, dept) => {\n  try {\n    const bytes = CryptoJS.AES.decrypt(token, SECRET_KEY);\n    const decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n\n    // Check if token is expired\n    if (Date.now() > decryptedData.expiry) {\n      return false;\n    }\n\n    // Check if department matches\n    if (decryptedData.dept !== dept) {\n      return false;\n    }\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\n// Department data\nexport const EAST_LAND_DEPARTMENTS = {\n  \"project_planning\": \"13.2057989,80.3209443\",\n  \"shop_vii\": \"13.2062904,80.3207080\",\n  \"shop_vi\": \"13.2099126,80.3209142\",\n  \"shop_v\": \"13.2086706,80.3205279\",\n  \"shop_iv\": \"13.2070161,80.3203764\",\n  \"ev_shop\": \"13.2075096,80.3191446\",\n  \"hrd_centre\": \"13.2068653,80.3192841\",\n  \"canteen\": \"13.2066567,80.3192250\",\n  \"central_quality_office\": \"13.2064706,80.3196311\",\n  \"field_quality_centre\": \"13.206572069601032,80.31957997029414\",\n  \"defense_sourcing\": \"13.2057989,80.3209443\"\n};\nexport const EAST_LAND_DISPLAY = {\n  \"project_planning\": \"Project Planning\",\n  \"shop_vii\": \"Shop VII\",\n  \"shop_vi\": \"Shop VI\",\n  \"shop_v\": \"Shop V\",\n  \"shop_iv\": \"Shop IV\",\n  \"ev_shop\": \"EV Shop\",\n  \"hrd_centre\": \"HRD Centre\",\n  \"canteen\": \"Canteen\",\n  \"central_quality_office\": \"Central Quality Office\",\n  \"field_quality_centre\": \"Field Quality Centre\",\n  \"defense_sourcing\": \"Defense Sourcing\"\n};\nexport const MAIN_LAND_DEPARTMENTS = {\n  \"chassis_shop\": \"13.209549919810451,80.31742205591088\",\n  \"gearbox_6s\": \"13.209837363670559,80.31813483425225\",\n  \"gearbox_9s\": \"13.209837363670559,80.31813483425225\",\n  \"heat_treatment\": \"13.207957473496801,80.31784613241723\",\n  \"admin_finance\": \"13.209693574424433,80.3166161104447\",\n  \"canteen_main\": \"13.209821525072439,80.31702112397613\",\n  \"shop_2_office\": \"13.208204685252353,80.31658514318255\",\n  \"vts_shop\": \"13.208029794646409,80.31705504743034\"\n};\nexport const MAIN_LAND_DISPLAY = {\n  \"chassis_shop\": \"Chassis Shop\",\n  \"gearbox_6s\": \"Gearbox Assembly 6S\",\n  \"gearbox_9s\": \"Gearbox Assembly 9S\",\n  \"heat_treatment\": \"Heat Treatment\",\n  \"admin_finance\": \"Admin Office - Finance\",\n  \"canteen_main\": \"Canteen\",\n  \"shop_2_office\": \"Shop 2 Office\",\n  \"vts_shop\": \"VTS Shop\"\n};\n\n// Mappls navigation URL generator\nexport const generateMapplsURL = (deptCode, token) => {\n  const deptName = EAST_LAND_DISPLAY[deptCode] || MAIN_LAND_DISPLAY[deptCode];\n  const deptCoords = EAST_LAND_DEPARTMENTS[deptCode] || MAIN_LAND_DEPARTMENTS[deptCode];\n  if (!deptName || !deptCoords) return '#';\n  const [lat, lon] = deptCoords.split(',');\n  const encodedName = encodeURIComponent(deptName);\n  return `https://mappls.com/navigation?places=${lat.trim()},${lon.trim()},${encodedName}&isNav=true&mode=driving&token=${token}`;\n};","map":{"version":3,"names":["CryptoJS","SECRET_KEY","TOKEN_MAX_AGE","generateToken","dept","tokenData","timestamp","Date","now","expiry","tokenString","JSON","stringify","AES","encrypt","toString","validateToken","token","bytes","decrypt","decryptedData","parse","enc","Utf8","error","EAST_LAND_DEPARTMENTS","EAST_LAND_DISPLAY","MAIN_LAND_DEPARTMENTS","MAIN_LAND_DISPLAY","generateMapplsURL","deptCode","deptName","deptCoords","lat","lon","split","encodedName","encodeURIComponent","trim"],"sources":["D:/navigationAl/src/utils.js"],"sourcesContent":["import CryptoJS from 'crypto-js';\r\n\r\nconst SECRET_KEY = \"your-very-secret-key-do-not-expose-in-production\";\r\nconst TOKEN_MAX_AGE = 30 * 60 * 1000; // 30 minutes in milliseconds\r\n\r\n// Simple token generation using timestamp\r\nexport const generateToken = (dept) => {\r\n    const tokenData = {\r\n        dept: dept,\r\n        timestamp: Date.now(),\r\n        expiry: Date.now() + TOKEN_MAX_AGE\r\n    };\r\n    const tokenString = JSON.stringify(tokenData);\r\n    return CryptoJS.AES.encrypt(tokenString, SECRET_KEY).toString();\r\n};\r\n\r\nexport const validateToken = (token, dept) => {\r\n    try {\r\n        const bytes = CryptoJS.AES.decrypt(token, SECRET_KEY);\r\n        const decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\r\n        \r\n        // Check if token is expired\r\n        if (Date.now() > decryptedData.expiry) {\r\n            return false;\r\n        }\r\n        \r\n        // Check if department matches\r\n        if (decryptedData.dept !== dept) {\r\n            return false;\r\n        }\r\n        \r\n        return true;\r\n    } catch (error) {\r\n        return false;\r\n    }\r\n};\r\n\r\n// Department data\r\nexport const EAST_LAND_DEPARTMENTS = {\r\n    \"project_planning\": \"13.2057989,80.3209443\",\r\n    \"shop_vii\": \"13.2062904,80.3207080\",\r\n    \"shop_vi\": \"13.2099126,80.3209142\",\r\n    \"shop_v\": \"13.2086706,80.3205279\",\r\n    \"shop_iv\": \"13.2070161,80.3203764\",\r\n    \"ev_shop\": \"13.2075096,80.3191446\",\r\n    \"hrd_centre\": \"13.2068653,80.3192841\",\r\n    \"canteen\": \"13.2066567,80.3192250\",\r\n    \"central_quality_office\": \"13.2064706,80.3196311\",\r\n    \"field_quality_centre\": \"13.206572069601032,80.31957997029414\",\r\n    \"defense_sourcing\": \"13.2057989,80.3209443\",\r\n};\r\n\r\nexport const EAST_LAND_DISPLAY = {\r\n    \"project_planning\": \"Project Planning\",\r\n    \"shop_vii\": \"Shop VII\",\r\n    \"shop_vi\": \"Shop VI\",\r\n    \"shop_v\": \"Shop V\",\r\n    \"shop_iv\": \"Shop IV\",\r\n    \"ev_shop\": \"EV Shop\",\r\n    \"hrd_centre\": \"HRD Centre\",\r\n    \"canteen\": \"Canteen\",\r\n    \"central_quality_office\": \"Central Quality Office\",\r\n    \"field_quality_centre\": \"Field Quality Centre\",\r\n    \"defense_sourcing\": \"Defense Sourcing\",\r\n};\r\n\r\nexport const MAIN_LAND_DEPARTMENTS = {\r\n    \"chassis_shop\": \"13.209549919810451,80.31742205591088\",\r\n    \"gearbox_6s\": \"13.209837363670559,80.31813483425225\",\r\n    \"gearbox_9s\": \"13.209837363670559,80.31813483425225\",\r\n    \"heat_treatment\": \"13.207957473496801,80.31784613241723\",\r\n    \"admin_finance\": \"13.209693574424433,80.3166161104447\",\r\n    \"canteen_main\": \"13.209821525072439,80.31702112397613\",\r\n    \"shop_2_office\": \"13.208204685252353,80.31658514318255\",\r\n    \"vts_shop\": \"13.208029794646409,80.31705504743034\",\r\n};\r\n\r\nexport const MAIN_LAND_DISPLAY = {\r\n    \"chassis_shop\": \"Chassis Shop\",\r\n    \"gearbox_6s\": \"Gearbox Assembly 6S\",\r\n    \"gearbox_9s\": \"Gearbox Assembly 9S\",\r\n    \"heat_treatment\": \"Heat Treatment\",\r\n    \"admin_finance\": \"Admin Office - Finance\",\r\n    \"canteen_main\": \"Canteen\",\r\n    \"shop_2_office\": \"Shop 2 Office\",\r\n    \"vts_shop\": \"VTS Shop\",\r\n};\r\n\r\n// Mappls navigation URL generator\r\nexport const generateMapplsURL = (deptCode, token) => {\r\n    const deptName = EAST_LAND_DISPLAY[deptCode] || MAIN_LAND_DISPLAY[deptCode];\r\n    const deptCoords = EAST_LAND_DEPARTMENTS[deptCode] || MAIN_LAND_DEPARTMENTS[deptCode];\r\n    \r\n    if (!deptName || !deptCoords) return '#';\r\n    \r\n    const [lat, lon] = deptCoords.split(',');\r\n    const encodedName = encodeURIComponent(deptName);\r\n    \r\n    return `https://mappls.com/navigation?places=${lat.trim()},${lon.trim()},${encodedName}&isNav=true&mode=driving&token=${token}`;\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}